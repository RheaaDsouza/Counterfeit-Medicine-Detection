<!DOCTYPE html>
<html>
<head>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="../static/css/styles.css">
		<link rel="stylesheet" href="../static/css/homepage.css">
		<script src="../static/js/script.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://kit.fontawesome.com/f67a6a1a38.js" crossorigin="anonymous"></script>
		<!--fonts-->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Merriweather:ital@1&family=Playfair+Display&family=Poppins:wght@100;300;400&display=swap" rel="stylesheet">
		<title>Counterfeit Medcine Detection</title>
	</head>
	<title>Welcome</title>
</head>
<body>
	<!--navbar-->
	<nav id="main-nav" class="navbar navbar-expand-lg bg-dark navbar-dark fixed-top">
        <a class="navbar-brand" href="#page-top"><b>MedDetect</b></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="nav navbar-nav ml-auto">
				<li class="nav-item" style="color:white;padding:10px 25px 0 0;"><h5>Hi, {{name}}</h5></li>
                <button class="btn btn-danger navbar-btn"><a href="/logout" style="text-decoration:none; color:white;">Logout</a></button>
            </ul>
        </div>
    </nav>
    <!--End Navbar-->

	<section id='pickFile'>
		<div class="container">
			<form action = "/upload" method = "POST" enctype = "multipart/form-data">
				<div class="custom-file">
				  <input type="file" class="custom-file-input" id="customFile" name="file">
				  <label class="custom-file-label" for="customFile">Choose file</label>
				</div>

				<div>
					<button id="customFileAddon" type="submit" value="Upload" class="btn btn-success">Submit</button>
				  </div>
			</form>
		</div>

		<div class="row">
		</div>

		<div class="container">
			<!--
			{% if prediction %}
			<h5> Predicted Text: </h5> 
			<h6 style="background-color: LightGray; padding: 70px 35px;">  {{prediction}} </h6>
			{% endif %}
		    -->
			{% if filename %}
			<div class="row">
        	<div>
				<h6>Original Image</h6>
            	<img id="img" src="{{url_for('static',filename=filename)}}">
        	</div>
			<div>
			<!--	<img src="{{url_for('uploaded_file',filename=nfilename)}}">-->
			<h6>Processed Image</h6>
			<img src="{{result}}">
			</div>
			{% endif %}
		</div>
	</section>

	<script>
		// Add the following code if you want the name of the file appear on select

		 $(".custom-file-input").on("change", function() {
		  var fileName = $(this).val().split("\\").pop();
		  $(this).siblings(".custom-file-label").addClass("selected").html(fileName);

		});
        /*
		function init() {
			var inputFile = document.getElementById('customFile');
			inputFile.addEventListener('change', mostrarImagen, false);
		}
		function mostrarImagen(event) {
			var file = event.target.files[0];
			var reader = new FileReader();
			reader.onload = function (event) {
				var img = document.getElementById('img');
				img.src = event.target.result;
				img.width = 500;
				img.height = 500;
			}
			reader.readAsDataURL(file);
		}
		window.addEventListener('load', init, false);
        */
		</script>
</body>
</html>